<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mangekyo Translator - Settings</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="logo-section">
                <div class="logo-container">
                    <img src="../build/assets/icons/tomoe-sharingan.png" alt="Sharingan" class="logo-img" id="logoImage">
                </div>
                <h1 class="app-title">Mangekyo Translator</h1>
                <div class="power-level" id="powerLevel">
                    <span class="level-text">Tomoe Level</span>
                    <div class="level-dots">
                        <span class="dot active"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                </div>
            </div>
            
            <nav class="nav-menu">
                <button class="nav-item active" data-page="general">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-text">General</span>
                </button>
                <button class="nav-item" data-page="translation">
                    <span class="nav-icon">üåê</span>
                    <span class="nav-text">Translation</span>
                </button>
                <button class="nav-item" data-page="ocr">
                    <span class="nav-icon">üëÅÔ∏è</span>
                    <span class="nav-text">OCR Engine</span>
                </button>
                <button class="nav-item" data-page="appearance">
                    <span class="nav-icon">üé®</span>
                    <span class="nav-text">Appearance</span>
                </button>
                <button class="nav-item" data-page="hotkeys">
                    <span class="nav-icon">‚å®Ô∏è</span>
                    <span class="nav-text">Hotkeys</span>
                </button>
                <button class="nav-item" data-page="advanced">
                    <span class="nav-icon">üîí</span>
                    <span class="nav-text">Advanced</span>
                </button>
                <button class="nav-item" data-page="about">
                    <span class="nav-icon">‚ÑπÔ∏è</span>
                    <span class="nav-text">About</span>
                </button>
            </nav>
            
            <div class="sidebar-footer">
                <div class="version-info">v2.0.0</div>
                <div class="license-status" id="licenseStatus">
                    <img src="../build/assets/icons/tomoe-sharingan.png" alt="License" class="status-icon">
                    <span>Free Tier</span>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Header -->
            <header class="content-header">
                <h2 class="page-title" id="pageTitle">General Settings</h2>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="resetBtn">Reset to Default</button>
                    <button class="btn btn-primary" id="saveBtn">
                        <span class="btn-text">Save Changes</span>
                        <span class="save-indicator">‚úì</span>
                    </button>
                </div>
            </header>

            <!-- Settings Container -->
            <div class="settings-container" id="settingsContainer">
                
                <!-- General Settings Page -->
                <div class="settings-page active" id="page-general">
                    <div class="settings-grid">
                        <div class="setting-card" data-setting="extensionEnabled">
                            <div class="card-header">
                                <h3>Extension Status</h3>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="extEnabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="card-description">Enable or disable the extension globally</p>
                        </div>

                        <div class="setting-card" data-setting="autoTranslate">
                            <div class="card-header">
                                <h3>Auto-Translation</h3>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoTranslate">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="card-description">Automatically translate manga pages when detected</p>
                        </div>

                        <div class="setting-card" data-setting="defaultLanguage">
                            <div class="card-header">
                                <h3>Target Language</h3>
                            </div>
                            <div class="card-content">
                                <select class="styled-select" id="targetLang">
                                    <option value="en">English</option>
                                    <option value="es">Spanish</option>
                                    <option value="fr">French</option>
                                    <option value="de">German</option>
                                    <option value="pt">Portuguese</option>
                                    <option value="ru">Russian</option>
                                    <option value="it">Italian</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-card" data-setting="detectionSensitivity">
                            <div class="card-header">
                                <h3>Detection Sensitivity</h3>
                            </div>
                            <div class="card-content">
                                <div class="range-slider">
                                    <input type="range" min="1" max="100" value="75" id="sensitivity">
                                    <div class="range-labels">
                                        <span>Low</span>
                                        <span id="sensitivityValue">75%</span>
                                        <span>High</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Translation Settings Page -->
                <div class="settings-page" id="page-translation">
                    <div class="settings-grid">
                        <div class="setting-card wide" data-setting="translationEngine">
                            <div class="card-header">
                                <h3>Translation Engine</h3>
                            </div>
                            <div class="card-content">
                                <div class="engine-options">
                                    <label class="engine-option">
                                        <input type="radio" name="engine" value="google" checked>
                                        <div class="engine-card">
                                            <div class="engine-icon">G</div>
                                            <div class="engine-info">
                                                <strong>Google Translate</strong>
                                                <span>Fast, reliable</span>
                                            </div>
                                        </div>
                                    </label>
                                    <label class="engine-option">
                                        <input type="radio" name="engine" value="deepl">
                                        <div class="engine-card">
                                            <div class="engine-icon">D</div>
                                            <div class="engine-info">
                                                <strong>DeepL</strong>
                                                <span>High quality, requires API key</span>
                                            </div>
                                        </div>
                                    </label>
                                    <label class="engine-option">
                                        <input type="radio" name="engine" value="gpt4">
                                        <div class="engine-card">
                                            <div class="engine-icon premium">
                                                <img src="../build/assets/icons/ems-madara.png" alt="Premium" class="inline-icon">
                                            </div>
                                            <div class="engine-info">
                                                <strong>GPT-4 Vision</strong>
                                                <span>Context-aware, premium feature</span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="setting-card" data-setting="honorifics">
                            <div class="card-header">
                                <h3>Honorifics Handling</h3>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="honorifics" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="card-description">Preserve Japanese honorifics (-san, -kun, -chan)</p>
                        </div>

                        <div class="setting-card" data-setting="sfxTranslation">
                            <div class="card-header">
                                <h3>SFX Translation</h3>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="sfxTranslate">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="card-description">Translate sound effects („Éâ„Ç≠„Éâ„Ç≠ ‚Üí thump thump)</p>
                        </div>
                    </div>
                </div>

                <!-- OCR Settings Page -->
                <div class="settings-page" id="page-ocr">
                    <div class="settings-grid">
                        <div class="setting-card wide" data-setting="ocrLanguages">
                            <div class="card-header">
                                <h3>OCR Languages</h3>
                            </div>
                            <div class="card-content">
                                <div class="language-grid">
                                    <label class="lang-checkbox">
                                        <input type="checkbox" value="jpn" checked>
                                        <span class="check-box"></span>
                                        <span class="lang-name">Japanese</span>
                                    </label>
                                    <label class="lang-checkbox">
                                        <input type="checkbox" value="jpn_vert">
                                        <span class="check-box"></span>
                                        <span class="lang-name">Japanese (Vertical)</span>
                                    </label>
                                    <label class="lang-checkbox">
                                        <input type="checkbox" value="kor">
                                        <span class="check-box"></span>
                                        <span class="lang-name">Korean</span>
                                    </label>
                                    <label class="lang-checkbox">
                                        <input type="checkbox" value="chi_sim">
                                        <span class="check-box"></span>
                                        <span class="lang-name">Chinese (Simplified)</span>
                                    </label>
                                    <label class="lang-checkbox">
                                        <input type="checkbox" value="chi_tra">
                                        <span class="check-box"></span>
                                        <span class="lang-name">Chinese (Traditional)</span>
                                    </label>
                                    <label class="lang-checkbox">
                                        <input type="checkbox" value="eng">
                                        <span class="check-box"></span>
                                        <span class="lang-name">English</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="setting-card" data-setting="preprocessing">
                            <div class="card-header">
                                <h3>Image Preprocessing</h3>
                            </div>
                            <div class="card-content">
                                <label class="checkbox-item">
                                    <input type="checkbox" id="denoise" checked>
                                    <span>Noise Reduction</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" id="deskew" checked>
                                    <span>Auto-Rotation</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" id="binarize">
                                    <span>Force Black/White</span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-card" data-setting="ocrQuality">
                            <div class="card-header">
                                <h3>OCR Quality vs Speed</h3>
                            </div>
                            <div class="card-content">
                                <div class="quality-slider">
                                    <input type="range" min="1" max="3" value="2" id="ocrQuality">
                                    <div class="quality-labels">
                                        <span>Fast</span>
                                        <span>Balanced</span>
                                        <span>Accurate</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Appearance Settings Page -->
                <div class="settings-page" id="page-appearance">
                    <div class="settings-grid">
                        <div class="setting-card" data-setting="theme">
                            <div class="card-header">
                                <h3>Visual Theme</h3>
                            </div>
                            <div class="card-content">
                                <div class="theme-selector">
                                    <label class="theme-option active">
                                        <input type="radio" name="theme" value="sharingan" checked>
                                        <div class="theme-preview">
                                            <img src="../build/assets/icons/tomoe-sharingan.png" alt="Sharingan" class="theme-icon">
                                            <span>Sharingan</span>
                                        </div>
                                    </label>
                                    <label class="theme-option">
                                        <input type="radio" name="theme" value="ems">
                                        <div class="theme-preview">
                                            <img src="../build/assets/icons/ems-madara.png" alt="EMS" class="theme-icon">
                                            <span class="premium-label">Eternal</span>
                                        </div>
                                    </label>
                                    <label class="theme-option locked">
                                        <input type="radio" name="theme" value="rinnegan" disabled>
                                        <div class="theme-preview">
                                            <img src="../build/assets/icons/rinnegan.png" alt="Rinnegan" class="theme-icon">
                                            <span class="locked-label">Locked</span>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="setting-card" data-setting="overlayStyle">
                            <div class="card-header">
                                <h3>Translation Style</h3>
                            </div>
                            <div class="card-content">
                                <select class="styled-select" id="overlayStyle">
                                    <option value="bubble">Speech Bubble</option>
                                    <option value="tooltip">Tooltip</option>
                                    <option value="inline">Inline Replace</option>
                                    <option value="sidebar">Sidebar</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-card" data-setting="fontSize">
                            <div class="card-header">
                                <h3>Font Size</h3>
                            </div>
                            <div class="card-content">
                                <div class="font-size-preview" id="fontPreview">
                                    Sample Text
                                </div>
                                <input type="range" min="12" max="24" value="16" id="fontSize">
                            </div>
                        </div>

                        <div class="setting-card" data-setting="opacity">
                            <div class="card-header">
                                <h3>Overlay Opacity</h3>
                            </div>
                            <div class="card-content">
                                <input type="range" min="20" max="100" value="90" id="opacity">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hotkeys Settings Page -->
                <div class="settings-page" id="page-hotkeys">
                    <div class="settings-grid">
                        <div class="setting-card wide" data-setting="hotkeys">
                            <div class="card-header">
                                <h3>Keyboard Shortcuts</h3>
                            </div>
                            <div class="card-content">
                                <div class="hotkey-list">
                                    <div class="hotkey-item">
                                        <span class="hotkey-action">Toggle Extension</span>
                                        <kbd class="hotkey-input" data-default="Ctrl+Shift+M">Ctrl+Shift+M</kbd>
                                    </div>
                                    <div class="hotkey-item">
                                        <span class="hotkey-action">Translate Page</span>
                                        <kbd class="hotkey-input" data-default="Ctrl+Shift+T">Ctrl+Shift+T</kbd>
                                    </div>
                                    <div class="hotkey-item">
                                        <span class="hotkey-action">Clear Overlays</span>
                                        <kbd class="hotkey-input" data-default="Ctrl+Shift+C">Ctrl+Shift+C</kbd>
                                    </div>
                                    <div class="hotkey-item">
                                        <span class="hotkey-action">Activate EMS Mode</span>
                                        <kbd class="hotkey-input premium" data-default="Ctrl+Shift+E">
                                            <img src="../build/assets/icons/ems-madara.png" alt="EMS" class="inline-icon-small">
                                            Ctrl+Shift+E
                                        </kbd>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Settings Page -->
                <div class="settings-page" id="page-advanced">
                    <div class="settings-grid">
                        <div class="setting-card warning" data-setting="privacy">
                            <div class="card-header">
                                <h3>Privacy Mode</h3>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="privacyMode">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="card-description">Disable all cloud translation services, use local only</p>
                        </div>

                        <div class="setting-card" data-setting="cache">
                            <div class="card-header">
                                <h3>Cache Management</h3>
                            </div>
                            <div class="card-content">
                                <div class="cache-info">
                                    <span id="cacheSize">0 MB</span> cached
                                </div>
                                <button class="btn btn-secondary" id="clearCache">Clear Cache</button>
                            </div>
                        </div>

                        <div class="setting-card danger" data-setting="reset">
                            <div class="card-header">
                                <h3>Factory Reset</h3>
                            </div>
                            <div class="card-content">
                                <p>Reset all settings to default values</p>
                                <button class="btn btn-danger" id="factoryReset">Reset Everything</button>
                            </div>
                        </div>

                        <div class="setting-card locked" data-setting="developer">
                            <div class="card-header">
                                <h3>Developer Mode</h3>
                                <img src="../build/assets/icons/rinnegan.png" alt="Rinnegan" class="card-icon">
                            </div>
                            <div class="card-content">
                                <p class="locked-text">Requires Rinnegan tier subscription</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- About Page -->
                <div class="settings-page" id="page-about">
                    <div class="about-container">
                        <div class="about-header">
                            <img src="../build/assets/icons/ems-madara.png" alt="Mangekyo" class="about-logo">
                            <h2>Mangekyo Translator</h2>
                            <p class="version">Version 2.0.0 (Eternal Mangekyo)</p>
                        </div>
                        
                        <div class="about-content">
                            <div class="info-section">
                                <h3>Power Levels</h3>
                                <div class="power-list">
                                    <div class="power-item active">
                                        <img src="../build/assets/icons/tomoe-sharingan.png" alt="Tomoe" class="power-icon">
                                        <div class="power-info">
                                            <strong>Tomoe (Free)</strong>
                                            <span>Basic OCR + Google Translate</span>
                                        </div>
                                    </div>
                                    <div class="power-item">
                                        <img src="../build/assets/icons/ems-madara.png" alt="EMS" class="power-icon">
                                        <div class="power-info">
                                            <strong>Eternal Mangekyo (Premium)</strong>
                                            <span>GPT-4 Vision + Advanced Features</span>
                                        </div>
                                    </div>
                                    <div class="power-item locked">
                                        <img src="../build/assets/icons/rinnegan.png" alt="Rinnegan" class="power-icon">
                                        <div class="power-info">
                                            <strong>Rinnegan (Developer)</strong>
                                            <span>Local LLM + Full Customization</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="info-section">
                                <h3>Credits</h3>
                                <p>Built with Tesseract.js, TensorFlow.js, and the power of the Uchiha clan.</p>
                                <div class="links">
                                    <a href="#" class="link">Privacy Policy</a>
                                    <a href="#" class="link">Terms of Service</a>
                                    <a href="#" class="link">GitHub</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-message">Settings saved successfully</span>
    </div>

    <script src="options.js"></script>
</body>
</html>